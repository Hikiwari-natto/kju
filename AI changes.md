# インタープリターの設定について

今回設定したのは、**「コンテナ（仮想の開発環境）の中に最初から入っている Python 3.11」** です。

具体的には、`.devcontainer/devcontainer.json` の中で以下の通り指定しています。

*   **設定した場所（パス）:** `/usr/local/bin/python3`
*   **実体:** このプロジェクトのベースとして使っている `Python 3.11-bookworm` というイメージ（OSとソフトのセット）に標準でインストールされている Python です。

### わかりやすく言うと...
この設定は、PyCharmに対して「この開発環境（コンテナ）の中にある、本物の Python 3.11 をプログラムの実行に使ってね！」と教えてあげるためのものです。

これによって、あなたのパソコンに直接 Python を入れていなくても、コンテナの中にある正しいバージョンの Python を使って、誰でも同じようにプログラムを動かしたりテストしたりできるようになります。

もし別の場所にある Python や、仮想環境（venvなど）を使いたい場合は、このパスを書き換えることで自由に変更することも可能です。

# AIによる変更履歴

## ライブラリの説明追加 (`requirements.txt`)
- 各ライブラリ（`fastapi`, `jinja2`, `python-multipart`, `pytest`, `httpx`）に対して、初心者にもわかりやすい日本語の説明コメントを追加しました。

## 設定ファイルの説明追加 (`.devcontainer/devcontainer.json`)
- 各設定項目（`name`, `image`, `customizations`, `features`, `forwardPorts`, `postCreateCommand`）に対して、日本語の説明コメントを追加しました。

## プログラムの説明追加 (`main.py`)
- プログラムの各ブロック（クラス、変数、関数）の役割について、初心者向けの日本語コメントを追加しました。

## プラグインの追加
- `customizations.jetbrains.plugins` に以下のプラグインIDを追加しました：
    - `org.jetbrains.junie`
    - `com.intellij.ml.llm` (AI Assistant)

## ガイドライン適用のテスト (`main.py`)
- **変更内容**: `main.py` の `app = FastAPI()` の前にコメントを追加しました。
- **変更日時**: 2026-02-13 17:15
- **変更したファイル**: `main.py`
- **目的**: ガイドライン (`.junie/guidelines/ai_changes_logging.md`) が正しく機能するかを確認するためのテストです。初心者の方が見ても、ここがプログラムの開始地点であることがより明確になるようにしました。

## DevContainer起動手順の追加 (`how_to_start_devcontainer.md`)
- **変更日時**: 2026-02-13 17:20
- **入力されたプロンプト**: 「この内容をmdファイルに保存して」
- **変更の概要**: PyCharmでDevContainerを起動する手順をまとめたMarkdownファイルを作成しました。
- **変更したファイル**: `how_to_start_devcontainer.md`
- **目的や詳細**: 初心者の方が迷わずに開発環境を立ち上げられるよう、自動認識と手動起動の両方の手順をわかりやすく解説したドキュメントを追加しました。

## TDLアプリ起動手順の追加 (`how_to_run_tdl.md`)
- **変更日時**: 2026-02-13 17:28
- **入力されたプロンプト**: 「このTDLの起動方法をmdファイルに保存して」
- **変更の概要**: FastAPI（TDLアプリ）を起動するための手順をまとめたMarkdownファイルを作成しました。
- **変更したファイル**: `how_to_run_tdl.md`
- **目的や詳細**: 初心者の方がターミナルを使ってサーバーを起動し、ブラウザでアプリを確認する方法を、コマンドの意味を含めてわかりやすく解説したドキュメントを追加しました。

## GitHub共有のための準備 (`.gitignore`)
- **変更日時**: 2026-02-16 15:30
- **変更内容**: `.gitignore` ファイルを作成しました。
- **目的**: PyCharmの設定ファイル (`.idea/`) やキャッシュファイル、仮想環境のフォルダなどが GitHub にアップロードされないようにするためです。これにより、リポジトリが清潔に保たれます。

## 「このサイトにアクセスできません（ERR_ADDRESS_INVALID）」問題の解決策
- **解決の概要**: `http://0.0.0.0:8000/` でアクセスできない原因は、`0.0.0.0` がWindowsなどの一部の環境で直接入力してアクセスできない特殊なIPアドレスであるためでした。これを解消するために、起動ホストを `127.0.0.1`（localhost）に変更しました。
- **修正内容**:
    1.  **`main.py` の修正**:
        - サーバーの起動ホストを `0.0.0.0` から `127.0.0.1`（localhost）に変更。
        - 起動メッセージが `http://127.0.0.1:8000`（または8001）となり、混乱を防止。
    2.  **手順書（`how_to_run_tdl.md`）の更新**:
        - ブラウザでアクセスする際のURLを `http://localhost:8001` などに統一。
        - コマンド例のホスト指定も `127.0.0.1` に変更。
- **修正後の確認方法**:
    1. ターミナルで `python main.py` を実行。
    2. 表示されたURL、または `http://localhost:8000` （ポート競合時は `http://localhost:8001`）をブラウザで開く。
- **検証結果**:
    - `127.0.0.1:8001` でサーバーが正常に起動し、コンテンツが取得できることを確認。
    - 既存の自動テストもすべてパス。

## Dev Containerでファイルが表示されない問題の修正 (`.devcontainer/devcontainer.json`)
- **変更日時**: 2026-02-18 15:00
- **変更の概要**: Dev Containerで起動した際にエディタにプロジェクトファイルが表示されない問題を解決するため、作業ディレクトリの設定を明示的に指定しました。
- **変更したファイル**: `.devcontainer/devcontainer.json`
- **目的や詳細**: `workspaceFolder` 設定を `/workspaces/${localWorkspaceFolderBasename}` に追加しました。これにより、PyCharmなどのIDEがコンテナ内のどのフォルダをプロジェクトのルートとして開くべきかを正しく認識できるようになり、ファイルツリーが表示されるようになります。
